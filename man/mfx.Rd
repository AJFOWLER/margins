% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/marginal_effects_internal.R
\name{mfx_numeric}
\alias{mfx_factor}
\alias{mfx_numeric}
\title{Marginal Effect of a Given Variable}
\usage{
mfx_numeric(data, model, variable, type = c("response", "link"),
  eps = 1e-04)

mfx_factor(data, model, variable, type = c("response", "link"),
  fwrap = FALSE)
}
\arguments{
\item{data}{The dataset on which to to calculate \eqn{\hat{y}}.}

\item{model}{The model object to pass to \code{\link{prediction}}.}

\item{variable}{A character string specifying the variable to calculate the derivative for.}

\item{type}{The type of prediction. Default is \dQuote{response}.}

\item{eps}{The value of the step \eqn{\epsilon} to use in calculation of the numerical derivative.}

\item{fwrap}{A logical specifying how to name factor columns in the response.}
}
\value{
A data.frame, typically with one column unless the variable is a factor with more than two levels.
}
\description{
Differentiate an Estimated Model with Respect to One Variable
}
\details{
These functions provide a simple interface to the calculation of marginal effects for specific variables used in a model, and are the workhorse functions called internally by \code{\link{marginal_effects}}.

\code{mfx} is an S3 generic with classes implemented for specific variable types. The method for numeric variables uses one-sided numerical differentiation (\deqn{h = \max(|x|, 1) \sqrt{\epsilon}}{h = max(|x|, 1)sqrt(epsilon)}, where \eqn{\epsilon}{epsilon} is given by \code{eps}) to extract the marginal effect, or instantaneous change (numerical derivative) in \eqn{\hat{y}}. It currently only uses a \dQuote{simple}, one-sided derivative method (in the language of the numDeriv package) . This might change in the future.

For factor variables (or character variables, which are implicitly coerced to factors by modelling functions) and logical variables, discrete differences in predicted outcomes are reported instead (i.e., change in predicted outcome when factor is set to a given level minus the predicted outcome when the factor is set to its baseline level). If you want to use numerical differentiation for factor variables (which you probably do not want to do), enter them into the original modelling function as numeric values rather than factors.
}
\seealso{
\code{\link{marginal_effects}}, \code{\link{margins}}
}

